@use "sass:math";
@use "sass:map";
@use "../../../../assets/styles/screens";
@use "../../../../assets/styles/colors";
@use "../../../../assets/styles/containers";

$font-sizes: (
  default: 32px,
  large: 28px,
  middle: 24px,
  small: 22px,
  xsmall: 20px,
);

$spacings: containers.$paddingsY;
$image-koof: 1;
$subtitle-koof: 0.7;
$line-height: 1.3;
$gap-koof: 0.3;

// Свойства
@for $i from 1 to 5 {
  h#{$i} {
    line-height: #{$line-height} !important;
    display: grid;
    width: 100%;
    grid-template-areas: "title";
    grid-template-columns: 1fr;
    align-items: center;
    position: relative;

    // Варианты
    & {
      // Картинка
      &.image {
        grid-template-areas: "image title";
      }
      // Подзаголовок
      &.subtitle {
        grid-template-areas: "title" "subtitle";
      }
      // Действия
      &.actions {
        grid-template-areas: "title actions";
      }
      // Картинка и подзаголовок
      &.image.subtitle {
        grid-template-areas: "image title" "image subtitle";
      }
      // Картинка и панель
      &.image.actions {
        grid-template-areas: "image title actions";
      }
      // Картинка и панель
      &.subtitle.actions {
        grid-template-areas: "title actions" "subtitle actions";
      }
      // Картинка, подзаголовок и панель
      &.subtitle.actions {
        grid-template-areas: "image title actions" "image subtitle actions";
      }
    }

    // Заголовок
    > sup {
      display: block;
      font-size: inherit;
      font-weight: 400;
      color: colors.$title;
      grid-area: title;
    }
    // Подзаголовок
    > sub {
      display: block;
      font-size: #{$subtitle-koof}em;
      font-weight: 300;
      color: colors.$subtitle;
      grid-area: subtitle;
    }
    // Картинка
    > .image {
      grid-area: image;
      // Картинка
      > img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }
    }
    // Иконка
    mat-icon {
      grid-area: image;
      text-align: center;
    }
    // Панель действий
    > .actions {
      grid-area: actions;
    }

    // Адаптив
    @include screens.adaptiveFor($font-sizes, $spacings) using($font-size, $spacing) {
      $image-size: $font-size * (1 + $subtitle-koof) * $line-height * $image-koof;
      // Свойства
      font-size: #{$font-size} !important;
      margin-bottom: #{$spacing} !important;
      gap: 0 #{$gap-koof * $font-size};
      // Варианты
      & {
        // Картинка
        // Картинка и подзаголовок
        &.image,
        &.image.subtitle {
          grid-template-columns: #{$image-size} 1fr;
        }
        // Действия
        // Картинка и панель
        &.actions,
        &.subtitle.actions {
          grid-template-columns: 1fr auto;
        }
        // Картинка и панель
        // Картинка, подзаголовок и панель
        &.image.actions,
        &.subtitle.actions {
          grid-template-columns: #{$image-size} 1fr auto;
        }
      }
      // Картинка
      > .image,
      mat-icon {
        width: $image-size;
        height: $image-size;
      }
      // Иконка
      mat-icon {
        line-height: $image-size;
        font-size: $image-size;
      }
    }
  }
}
