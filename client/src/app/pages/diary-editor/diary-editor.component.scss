@use "sass:map";
@use "sass:math";
@use "../../../assets/styles/colors";
@use "../../../assets/styles/screens";
@use "../../../assets/styles/containers";

$header-height: 60px;
$tabs-height: 48px;

// Главный блок вкладки
.overlay {
  width: 100vw;
  margin-left: calc(50% - 50vw);
}

// Убрать лишние отступы
::ng-deep .mat-tab {
  // Шапка уппа
  &-header {
    position: sticky !important;
    top: 60px;
    max-width: 100%;
    margin: 0 auto;
    overflow: unset !important;
    z-index: 2;
    background-color: colors.$card;
    // Границы
    & {
      // Общий стиль
      &:before,
      &:after {
        content: "";
        display: block;
        width: calc(50vw - 50%);
        height: calc(100% + 1px);
        position: absolute;
        top: 0;
        background-color: inherit;
        border-bottom: 1px solid #e0e0e0;
      }
      // Слева
      &:before {
        right: 100%;
      }
      // Справа
      &:after {
        left: 100%;
      }
    }
    // Адаптив
    @include screens.adaptiveFor(containers.$widths) using($width) {
      width: $width - (containers.$padding-x * 2);
    }
  }
  // Шапка и группа
  &-header,
  &-group {
    max-width: 100%;
  }
  // Группа
  &-group {
    display: block !important;
  }
  // Тело
  &-body {
    overflow: unset !important;
    width: 100%;
    // Содержимое
    &-content,
    &-wrapper {
      overflow: unset !important;
    }
  }
  // Вкладка
  &-label {
    opacity: 1 !important;
    color: colors.$text;
    // Активная вкладка
    &-active {
      color: map.get(colors.$mat-primary, 900);
    }
    // Содержимое
    &-content {
      font-weight: 400 !important;
      font-size: 14px !important;
    }
    // Контейнер
    &-container {
      flex-grow: 0 !important;
    }
  }
}

// Задать высоту редактора
:host ::ng-deep .ck-editor__editable_inline {
  $panel-height: 40px;
  // Адаптив
  @include screens.adaptiveFor(containers.$widths, containers.$paddings-y) using($width, $padding-y) {
    $padding-top: math.max(15px, math.div($padding-y, 2));
    // Свойства
    height: calc(100vh - #{($padding-y * 2) + $padding-top + $header-height + $tabs-height + $panel-height});
  }
}

// Список карточек
.cards-list {
  $counts: (
    default: 3,
  );
  // Свойства
  display: grid;
  grid-gap: 15px;
  // Адаптив
  @include screens.adaptiveFor($counts) using($count) {
    grid-template-columns: repeat(#{$count}, 1fr);
  }
}

// Секция внутри таба
.root-section.tabs {
  min-height: calc(100vh - #{$header-height + $tabs-height});
}
