@use "sass:map";

// Повторить строку
@function str-repeat($string, $count: 1, $implementer: "") {
  $return: "";

  @for $i from 1 through $count {
    @if ($i > 1) {
      $return: #{$return}#{$implementer};
    }

    $return: #{$return}#{$string};
  }

  @return $return;
}

// Получить переменную
@function map-get($map, $key) {
  @if (map.has-key($map, $key)) {
    @return map.get($map, $key);
  }
  // Значение по умолчанию
  @else if(map.has-key($map, default)) {
    @return map.get($map, default);
  }
  // Ничего не найдено
  @return "";
}

// Замена для INSET
@mixin inset($top: none, $left: none, $bottom: none, $right: none) {
  @if ($top == none and $left == none and $bottom == none and $right == none) {
    $top: 0;
    $left: 0;
    $bottom: 0;
    $right: 0;
  } @else if ($left == none and $bottom == none and $right == none) {
    $left: $top;
    $bottom: $top;
    $right: $top;
  } @else if ($bottom == none and $right == none) {
    $bottom: $top;
    $right: $left;
  } @else if ($right == none) {
    $right: $bottom;
  }

  top: $top;
  left: $left;
  bottom: $bottom;
  right: $right;
}

// Замена для множественного Margin
@mixin margin($top: none, $left: none, $bottom: none, $right: none) {
  @if ($top == none and $left == none and $bottom == none and $right == none) {
    $top: 0;
    $left: 0;
    $bottom: 0;
    $right: 0;
  } @else if ($left == none and $bottom == none and $right == none) {
    $left: $top;
    $bottom: $top;
    $right: $top;
  } @else if ($bottom == none and $right == none) {
    $bottom: $top;
    $right: $left;
  } @else if ($right == none) {
    $right: $bottom;
  }

  margin-top: $top;
  margin-left: $left;
  margin-bottom: $bottom;
  margin-right: $right;
}

// Огранисение на количество линий
@mixin line-clamp($lines: 1, $height: 1, $padding: 0, $height-important: false) {
  $important: "";
  // Обязательные поля
  @if ($height-important == 1 or $height-important == true) {
    $important: "!important";
  }
  // Свойства
  overflow: hidden;
  padding-top: $padding;
  padding-bottom: $padding;
  // Установка высоты
  @if ($height > 0) {
    line-height: #{$height} #{$important};
    min-height: #{$height + ($padding * 2)} #{$important};
    max-height: #{($height * $lines) + ($padding * 2)} #{$important};
  }
  // Две и более линий
  @if ($lines > 1) {
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: $lines;
    white-space: normal;
  }
  // Для одной линии
  @else {
    white-space: nowrap;
    text-overflow: ellipsis;
  }
}
